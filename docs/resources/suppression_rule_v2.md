---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "squadcast_suppression_rule_v2 Resource - terraform-provider-squadcast"
subcategory: ""
description: |-
  Suppression rules https://support.squadcast.com/docs/alert-suppression can help you avoid alert fatigue by suppressing notifications for non-actionable alerts.Squadcast will suppress the incidents that match any of the Suppression Rules you create for your Services. These incidents will go into the Suppressed state and you will not get any notifications for them
---

# squadcast_suppression_rule_v2 (Resource)

[Suppression rules](https://support.squadcast.com/docs/alert-suppression) can help you avoid alert fatigue by suppressing notifications for non-actionable alerts.Squadcast will suppress the incidents that match any of the Suppression Rules you create for your Services. These incidents will go into the Suppressed state and you will not get any notifications for them

## Example Usage

```terraform
data "squadcast_team" "example_team" {
  name = "exammple team name"
}

data "squadcast_service" "example_service" {
  name    = "example service name"
  team_id = data.squadcast_team.example_team.id
}

resource "squadcast_suppression_rule_v2" "example_basic_suppression_rules" {
  service_id = data.squadcast_service.example_service.id
  is_basic    = true
  description = "sample basic expression"
  basic_expressions {
    lhs = "abc"
    op = "is"
    rhs = "xyz"
  }
}

resource "squadcast_suppression_rule_v2" "example_suppression_rules" {
  service_id = data.squadcast_service.example_service.id
  is_basic    = false
  description = "not basic"
  expression  = "payload[\"event_id\"] == 40"
}

resource "squadcast_suppression_rule_v2" "example_time_based_suppression_rules" {
  service_id = data.squadcast_service.example_service.id
  is_basic    = false
  description = "not basic"
  expression  = "payload[\"event_id\"] == 40"
  timeslots {
    time_zone  = "Asia/Calcutta"
    start_time = "2022-04-08T06:22:14.975Z"
    end_time   = "2022-04-28T06:22:14.975Z"
    ends_on    = "2022-04-28T06:22:14.975Z"
    repetition = "none" # none, daily, weekly, monthly, custom
    is_allday  = false
    ends_never = true
  }
}


resource "squadcast_suppression_rule_v2" "example_time_based_suppression_rules_custom_repetition" {
  service_id = data.squadcast_service.example_service.id
  is_basic    = false
  description = "not basic"
  expression  = "payload[\"event_id\"] == 40"
  # custom repetition - daily
  timeslots {
    time_zone  = "Asia/Calcutta"
    start_time = "2022-04-08T06:22:14.975Z"
    end_time   = "2022-04-28T06:22:14.975Z"
    ends_on    = "2022-04-28T06:22:14.975Z"
    repetition = "custom"
    is_allday  = false
    ends_never = true
    custom {
      repeats       = "day"
      repeats_count = 2
    }
  }
  # custom repetition - weekly
  timeslots {
    time_zone  = "Asia/Calcutta"
    start_time = "2022-04-08T06:22:14.975Z"
    end_time   = "2022-04-28T06:22:14.975Z"
    ends_on    = "2022-04-28T06:22:14.975Z"
    repetition = "custom"
    is_allday  = false
    ends_never = true
    custom {
      repeats             = "week"
      repeats_count       = 4
      repeats_on_weekdays = [0, 1, 2, 3] # 0 - Sunday, 1 - Monday ....
    }
  }
  # custom repetition - monthly
  timeslots {
    time_zone  = "Asia/Calcutta"
    start_time = "2022-04-08T06:22:14.975Z"
    end_time   = "2022-04-28T06:22:14.975Z"
    ends_on    = "2022-04-28T06:22:14.975Z"
    repetition = "custom"
    is_allday  = false
    ends_never = true
    custom {
      repeats       = "month"
      repeats_count = 6
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `is_basic` (Boolean) is_basic will be true when users use the drop down selectors which will have lhs, op & rhs value, whereas it will be false when they use the advanced mode and it would have the expression for it's value
- `service_id` (String) Service id.

### Optional

- `basic_expressions` (Block List) The basic expression which needs to be evaluated to be true for this rule to apply. (see [below for nested schema](#nestedblock--basic_expressions))
- `description` (String) description.
- `expression` (String) The expression which needs to be evaluated to be true for this rule to apply.
- `timeslots` (Block List) The timeslots for which this rule should be applied. (see [below for nested schema](#nestedblock--timeslots))

### Read-Only

- `id` (String) id.
- `is_timebased` (Boolean) is_timebased will be true when users use the time based suppression rule

<a id="nestedblock--basic_expressions"></a>
### Nested Schema for `basic_expressions`

Required:

- `lhs` (String) left hand side dropdown value
- `op` (String) operator (is, is_not, matches, not_contains)
- `rhs` (String) right hand side value


<a id="nestedblock--timeslots"></a>
### Nested Schema for `timeslots`

Required:

- `end_time` (String) Defines the end date of the time slot
- `ends_on` (String) Defines the end date of the repetition
- `repetition` (String) Defines the repetition of the time slot
- `start_time` (String) Defines the start date of the time slot
- `time_zone` (String) Time zone for the time slot

Optional:

- `custom` (Block List) Use this field to specify the custom time slots for which this rule should be applied. This field is only applicable when the repetition field is set to custom. (see [below for nested schema](#nestedblock--timeslots--custom))
- `ends_never` (Boolean) Defines whether the time slot ends or not
- `is_allday` (Boolean) Defines if the time slot is an all day slot

Read-Only:

- `is_custom` (Boolean) Defines whether repetition is custom or not

<a id="nestedblock--timeslots--custom"></a>
### Nested Schema for `timeslots.custom`

Required:

- `repeats` (String) Determines how often the rule repeats. Valid values are day, week, month.

Optional:

- `repeats_count` (Number) Number of times to repeat.
- `repeats_on_weekdays` (List of Number) List of weekdays to repeat on.

Read-Only:

- `repeats_on_month` (String) Repeats on month.

## Import

Import is supported using the following syntax:

```shell
# serviceID:ruleID
terraform import squadcast_suppression_rule_v2.test 62d2fe23a57381088224d726:62da76c088f407f9ca756ca5
```
