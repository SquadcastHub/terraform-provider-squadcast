---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "squadcast_schedule_rotation_v2 Resource - terraform-provider-squadcast"
subcategory: ""
description: |-
  Schedule rotations https://support.squadcast.com/schedules/schedules-new/adding-a-schedule#2.-choose-a-rotation-pattern are used to manage on-call scheduling & determine who will be notified when an incident is triggered. The name of the Rotation must be unique within a Schedule.
---

# squadcast_schedule_rotation_v2 (Resource)

[Schedule rotations](https://support.squadcast.com/schedules/schedules-new/adding-a-schedule#2.-choose-a-rotation-pattern) are used to manage on-call scheduling & determine who will be notified when an incident is triggered. The name of the Rotation must be unique within a Schedule.

## Example Usage

```terraform
data "squadcast_team" "example_team" {
  name = "example team name"
}
data "squadcast_user" "example_user" {
  email = "test@example.com"
}
data "squadcast_user" "example_user_2" {
  email = "test2@example.com"
}

data "squadcast_schedule_v2" "get_schedule" {
  name = "Test Schedule"
  team_id = data.squadcast_team.example_team.id
}

# Create a rotation with weekly period
resource "squadcast_schedule_rotation_v2" "rotations_with_weekly_period" {
    schedule_id = data.squadcast_schedule_v2.get_schedule.id
    name = "Test Rotation"
    start_date = "2023-07-01T00:00:00Z"
    period = "weekly"
    shift_timeslots {
        start_hour = 10
        start_minute = 30
        duration = 720
    }
    change_participants_frequency = 1
    change_participants_unit = "rotation"
    participant_groups {
        participants {
            id = data.squadcast_user.example_user.id
            type = "user"
        }
        participants {
            id = data.squadcast_user.example_user_2.id
            type = "user"
        }
    }
    ends_after_iterations = 2
}

# Create a rotation with custom period
resource "squadcast_schedule_rotation_v2" "rotations_with_custom_period" {
    schedule_id = data.squadcast_schedule_v2.get_schedule.id
    name = "Test Rotation 2"
    start_date = "2023-06-13T00:00:00Z"
    period = "custom"
    shift_timeslots {
        start_hour = 10
        start_minute = 0
        duration = 1440
        day_of_week = "saturday"
    }
    shift_timeslots {
        start_hour = 12
        start_minute = 30
        duration = 720
        day_of_week = "sunday"
    }
    change_participants_frequency = 1
    change_participants_unit = "rotation"
    custom_period_frequency = 1
    custom_period_unit = "week"
    participant_groups {
        participants {
            id = data.squadcast_user.example_user.id
            type = "user"
        }
    }
    participant_groups {
        participants {
            id = data.squadcast_user.example_user_2.id
            type = "user"
        }
    }
    end_date =  "2023-08-31T00:00:00Z"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `change_participants_frequency` (Number) Frequency with which participants change in the rotation.
- `change_participants_unit` (String) Unit of the frequency with which participants change in the rotation (rotation, day, week, month).
- `name` (String) Rotation name.
- `period` (String) Rotation period (none, daily, weekly, monthly, custom). Defines how often the rotation repeats.
- `schedule_id` (Number) id of the schedule that the rotation belongs to.
- `shift_timeslots` (Block List, Min: 1) Timeslots where the rotation is active. (see [below for nested schema](#nestedblock--shift_timeslots))
- `start_date` (String) Defines the start date of the rotation.

### Optional

- `custom_period_frequency` (Number) Frequency of the custom rotation repeat pattern. Only applicable if period is set to custom.
- `custom_period_unit` (String) Unit of the custom rotation repeat pattern (day, week). Only applicable if period is set to custom.
- `end_date` (String) Defines the end date of the schedule rotation.
- `ends_after_iterations` (Number) Defines the number of iterations of the schedule rotation.
- `participant_groups` (Block List) Ordered list of participant groups for the rotation. For each rotation the participant_groups are cycled through in order. (see [below for nested schema](#nestedblock--participant_groups))

### Read-Only

- `id` (String) Rotation id.

<a id="nestedblock--shift_timeslots"></a>
### Nested Schema for `shift_timeslots`

Required:

- `duration` (Number) Defines the duration of each shift. (in minutes)
- `start_hour` (Number) Defines the start hour of the each shift in the schedule timezone.
- `start_minute` (Number) Defines the start minute of the each shift in the schedule timezone.

Optional:

- `day_of_week` (String) Defines the day of the week for the shift. If not specified, the timeslot is active on all days of the week.


<a id="nestedblock--participant_groups"></a>
### Nested Schema for `participant_groups`

Optional:

- `participants` (Block List) Group participants. (see [below for nested schema](#nestedblock--participant_groups--participants))

<a id="nestedblock--participant_groups--participants"></a>
### Nested Schema for `participant_groups.participants`

Required:

- `id` (String) Participant id.
- `type` (String) Participant type (user, team, squad).

## Import

Import is supported using the following syntax:

```shell
# teamID:scheduleName:rotationName
terraform import squadcast_schedule_rotation_v2.rotation "62d2fe23a57381088224d726:Example Schedule:Example Rotation"
```
